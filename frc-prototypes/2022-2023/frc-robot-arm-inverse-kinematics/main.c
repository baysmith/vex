#pragma config(Sensor, dgtl1,  DownButton,     sensorTouch)
#pragma config(Sensor, dgtl2,  RightButton,    sensorTouch)
#pragma config(Sensor, dgtl3,  UpButton,       sensorTouch)
#pragma config(Sensor, dgtl4,  LeftButton,     sensorTouch)
#pragma config(Motor,  port2,           ShoulderMotor, tmotorVex393_MC29, openLoop)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

float velocity = 0;

task main()
{
	const float acceleration = 0.03;
	const float maxVelocity = 50;
	const float velocityDecayFactor = 0.999;

	// Version 1 of the robot arm: just moves the shoulder motor in a straightforward way, no
	// PID involved.
	while (true) {
		if (SensorValue[DownButton]) {
			velocity += acceleration;
		}

		if (SensorValue[UpButton]) {
			velocity -= acceleration;
		}

		if (velocity > maxVelocity) {
			velocity = maxVelocity;
		} else if (velocity < -maxVelocity) {
			velocity = -maxVelocity;
		}

		// Move according to the velocity.
		motor[ShoulderMotor] = (int)velocity;

		// Decay the velocity over time.
		velocity *= velocityDecayFactor;
	}
}
